/**
 * @license MeeusSunMoon v2.0.0
 * (c) 2018 Jan Greis
 * licensed under MIT
 */

/**
 * @license MeeusSunMoon v2.0.0
 * (c) 2018 Jan Greis
 * licensed under MIT
 */
import*as t from"moment-timezone";const e=function(t){return.017453292519943295*t},n=function(t){return 57.29577951308232*t},r=function(t){return Math.sin(e(t))},o=function(t){return Math.cos(e(t))},u=function(t){return t-360*Math.floor(t/360)},c=function(t,e){let n=1,r=0;const o=e.length;for(let u=0;u<o;u++)r+=n*e[u],n*=t;return r},a=function(t,e,n,r,o){let u=e-t,c=n-e;return void 0!==o&&o&&(u<0&&(u+=360),c<0&&(c+=360)),e+r/2*(u+c+r*(c-u))},f=t,s=function(t){t+=.5;const e=Math.floor(t),n=t-e;let r=e;if(e>=2299161){const t=Math.floor((e-1867216.25)/36524.25);r+=1+t-Math.floor(t/4)}const o=r+1524,u=Math.floor((o-122.1)/365.25),c=Math.floor(365.25*u),a=Math.floor((o-c)/30.6001),s=o-c-Math.floor(30.6001*a)+n,i=Math.floor(s),l=Math.floor(24*(s-i)),h=Math.floor(60*(24*(s-i)-l)),d=Math.floor(60*(60*(24*(s-i)-l)-h));let M=a-1;a>13&&(M-=12);let m=u-4715;M>2&&(m-=1);const b=f.tz("2000-01-01T12:00:00","UTC");return b.year(m),b.month(M-1),b.date(i),b.hour(l),b.minute(h),b.second(d),b},i=function(t){return function(t){return(t-2451545)/36525}(function(t){let e=t.year(),n=t.month()+1;const r=t.date()+(t.hour()+(t.minute()+t.second()/60)/60)/24;n<3&&(e-=1,n+=12);const o=Math.floor(e/100),u=f("1582-10-15T12:00:00Z");let c=0;return t.isAfter(u)&&(c=2-o+Math.floor(o/4)),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(n+1))+r+c-1524.5}(t))},l=function(t){let e,n,r,o=t.year();switch(o+=(t.month()+.5)/12,!0){case o<-1999:r=!1;break;case o<-500:e=(o-1820)/100,r=32*e*e-20;break;case o<500:e=o/100,r=10583.6-1014.41*e+33.78311*e*e-5.952053*e*e*e-.1798452*e*e*e*e+.022174192*e*e*e*e*e+.0090316521*e*e*e*e*e*e;break;case o<1600:e=(o-1e3)/100,r=1574.2-556.01*e+71.23472*e*e+.319781*e*e*e-.8503463*e*e*e*e-.005050998*e*e*e*e*e+.0083572073*e*e*e*e*e*e;break;case o<1700:n=o-1600,r=120-.9808*n-.01532*n*n+n*n*n/7129;break;case o<1800:n=o-1700,r=8.83+.1603*n-.0059285*n*n+13336e-8*n*n*n-n*n*n*n/1174e3;break;case o<1860:n=o-1800,r=13.72-.332447*n+.0068612*n*n+.0041116*n*n*n-37436e-8*n*n*n*n+121272e-10*n*n*n*n*n-1.699e-7*n*n*n*n*n*n+8.75e-10*n*n*n*n*n*n*n;break;case o<1900:n=o-1860,r=7.62+.5737*n-.251754*n*n+.01680668*n*n*n-.0004473624*n*n*n*n+n*n*n*n*n/233174;break;case o<1920:n=o-1900,r=1.494119*n-2.79-.0598939*n*n+.0061966*n*n*n-197e-6*n*n*n*n;break;case o<1941:n=o-1920,r=21.2+.84493*n-.0761*n*n+.0020936*n*n*n;break;case o<1961:n=o-1950,r=29.07+.407*n-n*n/233+n*n*n/2547;break;case o<1986:n=o-1975,r=45.45+1.067*n-n*n/260-n*n*n/718;break;case o<2005:n=o-2e3,r=63.86+.3345*n-.060374*n*n+.0017275*n*n*n+651814e-9*n*n*n*n+2373599e-11*n*n*n*n*n;break;case o<2050:n=o-2e3,r=62.92+.32217*n+.005589*n*n;break;case o<2150:r=(o-1820)/100*32*((o-1820)/100)-20-.5628*(2150-o);break;default:e=(o-1820)/100,r=32*e*e-20}return r},h=function(t,e){const n=function(t){return t/1236.85}(t+=e/4),r=T(n);let o=d(n,t);const u=M(n,t),c=m(n,t),a=b(n,t),f=y(n,t),s=k(n,t);let i=0;return 0===e||2===e?i+=z(r,u,c,a,f,e):1!==e&&3!==e||(i+=N(r,u,c,a,f,e)),i+=S(s),o+=i,o},d=function(t,e){return 2451550.09766+29.530588861*e+15437e-8*t*t-15e-8*t*t*t+7.3e-10*t*t*t*t},M=function(t,e){return 2.5534+29.1053567*e-14e-7*t*t-11e-8*t*t*t},m=function(t,e){return 201.5643+385.81693528*e+.0107582*t*t+1238e-8*t*t*t-58e-9*t*t*t*t},b=function(t,e){return 160.7108+390.67050284*e-.0016118*t*t-227e-8*t*t*t+11e-9*t*t*t*t},y=function(t,e){return 124.7746-1.56375588*e+.0020672*t*t+215e-8*t*t*t},T=function(t){return 1-.002516*t-74e-7*t*t},k=function(t,e){const n=[];return n[0]=0,n[1]=299.77+.107408*e-.009173*t*t,n[2]=251.88+.016321*e,n[3]=251.83+26.651886*e,n[4]=349.42+36.412478*e,n[5]=84.66+18.206239*e,n[6]=141.74+53.303771*e,n[7]=207.14+2.453732*e,n[8]=154.84+7.30686*e,n[9]=34.52+27.261239*e,n[10]=207.19+.121824*e,n[11]=291.34+1.844379*e,n[12]=161.72+24.198154*e,n[13]=239.56+25.513099*e,n[14]=331.55+3.592518*e,n},S=function(t){return 325e-6*r(t[1])+165e-6*r(t[2])+164e-6*r(t[3])+126e-6*r(t[4])+11e-5*r(t[5])+62e-6*r(t[6])+6e-5*r(t[7])+56e-6*r(t[8])+47e-6*r(t[9])+42e-6*r(t[10])+4e-5*r(t[11])+37e-6*r(t[12])+35e-6*r(t[13])+23e-6*r(t[14])},z=function(t,e,n,o,u,c){let a=-.00111*r(n-2*o)-57e-5*r(n+2*o)+56e-5*t*r(2*n+e)-42e-5*r(3*n)+42e-5*t*r(e+2*o)+38e-5*t*r(e-2*o)-24e-5*t*r(2*n-e)-17e-5*r(u)-7e-5*r(n+2*e)+4e-5*r(2*n-2*o)+4e-5*r(3*e)+3e-5*r(n+e-2*o)+3e-5*r(2*n+2*o)-3e-5*r(n+e+2*o)+3e-5*r(n-e+2*o)-2e-5*r(n-e-2*o)-2e-5*r(3*n+e)+2e-5*r(4*n);return 0===c?a+=-.4072*r(n)+.17241*t*r(e)+.01608*r(2*n)+.01039*r(2*o)+.00739*t*r(n-e)-.00514*t*r(n+e)+.00208*t*t*r(2*e):2===c&&(a+=-.40614*r(n)+.17302*t*r(e)+.01614*r(2*n)+.01043*r(2*o)+.00734*t*r(n-e)-.00515*t*r(n+e)+.00209*t*t*r(2*e)),a},N=function(t,e,n,u,c,a){let f=-.62801*r(n)+.17172*t*r(e)-.01183*t*r(n+e)+.00862*r(2*n)+.00804*r(2*u)+.00454*t*r(n-e)+.00204*t*t*r(2*e)-.0018*r(n-2*u)-7e-4*r(n+2*u)-4e-4*r(3*n)-34e-5*t*r(2*n-e)+32e-5*t*r(e+2*u)+32e-5*t*r(e-2*u)-28e-5*t*t*r(n+2*e)+27e-5*t*r(2*n+e)-17e-5*r(c)-5e-5*r(n-e-2*u)+4e-5*r(2*n+2*u)-4e-5*r(n+e+2*u)+4e-5*r(n-2*e)+3e-5*r(n+e-2*u)+3e-5*r(3*e)+2e-5*r(2*n-2*u)+2e-5*r(n-e+2*u)-2e-5*r(3*n+e);const s=.00306-38e-5*t*o(e)+26e-5*o(n)-2e-5*o(n-e)+2e-5*o(n+e)+2e-5*o(2*u);return 1===a?f+=s:3===a&&(f-=s),f},D=[357.52772,35999.05034,-1603e-7,-1/3e5],E=[280.46646,36000.76983,3032e-7],p=[84381.448/3600,-4680.93/3600,-1.55/3600,1999.25/3600,-51.38/3600,-249.67/3600,-39.05/3600,7.12/3600,27.87/3600,5.79/3600,2.45/3600],Y=[93.27191,483202.017538,-.0036825,1/327270],C=[125.04452,-1934.136261,.0020708,1/45e4],w=[134.96298,477198.867398,.0086972,1/56250],I=[297.85036,445267.11148,-.0019142,1/189474],R=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[-2,0,0,2,2,-13187,-1.6,5736,-3.1],[0,0,0,2,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[0,0,1,0,0,712,.1,-7,0],[-2,1,0,2,2,-517,1.2,224,-.6],[0,0,0,2,1,-386,-.4,200,0],[0,0,1,2,2,-301,0,129,-.1],[-2,-1,0,2,2,217,-.5,-95,.3],[-2,0,1,0,0,-158,0,0,0],[-2,0,0,2,1,129,.1,-70,0],[0,0,-1,2,2,123,0,-53,0],[2,0,0,0,0,63,0,0,0],[0,0,1,0,1,63,.1,-33,0],[2,0,-1,2,2,-59,0,26,0],[0,0,-1,0,1,-58,-.1,32,0],[0,0,1,2,1,-51,0,27,0],[-2,0,2,0,0,48,0,0,0],[0,0,-2,2,1,46,0,-24,0],[2,0,0,2,2,-38,0,16,0],[0,0,2,2,2,-31,0,13,0],[0,0,2,0,0,29,0,0,0],[-2,0,1,2,2,29,0,-12,0],[0,0,0,2,0,26,0,0,0],[-2,0,0,2,0,-22,0,0,0],[0,0,-1,2,1,21,0,-10,0],[0,2,0,0,0,17,-.1,0,0],[2,0,-1,0,1,16,0,-8,0],[-2,2,0,2,2,-16,.1,7,0],[0,1,0,0,1,-15,0,9,0],[-2,0,1,0,1,-13,0,7,0],[0,-1,0,0,1,-12,0,6,0],[0,0,2,-2,0,11,0,0,0],[2,0,-1,2,1,-10,0,5,0],[2,0,1,2,2,-8,0,3,0],[0,1,0,2,2,7,0,-3,0],[-2,1,1,0,0,-7,0,0,0],[0,-1,0,2,2,-7,0,3,0],[2,0,0,2,1,-7,0,3,0],[2,0,1,0,0,6,0,0,0],[-2,0,2,2,2,6,0,-3,0],[-2,0,1,2,1,6,0,-3,0],[2,0,-2,0,1,-6,0,3,0],[2,0,0,0,1,-6,0,3,0],[0,-1,1,0,0,5,0,0,0],[-2,-1,0,2,1,-5,0,3,0],[-2,0,0,0,1,-5,0,3,0],[0,0,2,2,1,-5,0,3,0],[-2,0,2,0,1,4,0,0,0],[-2,1,0,2,1,4,0,0,0],[0,0,1,-2,0,4,0,0,0],[-1,0,1,0,0,-4,0,0,0],[-2,1,0,0,0,-4,0,0,0],[1,0,0,0,0,-4,0,0,0],[0,0,1,2,0,3,0,0,0],[0,0,-2,2,2,-3,0,0,0],[-1,-1,1,0,0,-3,0,0,0],[0,1,1,0,0,-3,0,0,0],[0,-1,1,2,2,-3,0,0,0],[2,-1,-1,2,2,-3,0,0,0],[0,0,3,2,2,3,0,0,0],[2,-1,0,2,2,-3,0,0,0]],A=t,F=function(t,e,n,r,o=50/60){const u=t.tz(),c=A.tz([t.year(),t.month(),t.date(),0,0,0],"UTC"),a=l(c),f=i(c),s=Z(f),h=f-a/315576e4,d=x(h),M=B(h),m=U(e,M,o);let b,y=(d-n-s)/360;if(y=v(y,t.utcOffset()),"RISE"===r)b=y-m/360;else{if("SET"!==r)return!1;b=y+m/360}let T=0,k=1;for(;Math.abs(k)>1e-4&&T<3;)k=K(f,s,a,e,n,b,o),b+=k,T++;return b>0?c.add(Math.floor(3600*b*24+.5),"seconds"):c.subtract(Math.floor(3600*Math.abs(b)*24+.5),"seconds"),ct&&(c.add(30,"seconds"),c.second(0)),c.tz(u),c},H=function(t,e,n,r=0){return at&&(e.isDST()&&(n+=1),t.tz(e.tz()).year(e.year()).month(e.month()).date(e.date()).hour(n).minute(r).second(0)),t},U=function(t,e,u){const c=(r(-u)-r(t)*r(e))/(o(t)*o(e));if(c<-1){if(at)throw A.tz("**2000-01-01 12:00:00","YYYY-MM-DD HH:mm:ss","Europe/London");{let t="MS";throw 6===u?t="NCD":12===u?t="NND":18===u&&(t="NAD"),t}}if(c>1){if(at)throw A.tz("--2000-01-01 12:00:00","YYYY-MM-DD HH:mm:ss","Europe/London");{let t="PN";throw 6===u?t="NCD":12===u?t="NND":18===u&&(t="NAD"),t}}return n(Math.acos(c))},v=function(t,e){const n=t+e/1440;return n<0?t+1:n>1?t-1:t},P=function(t,e,n,r,o){const u=e+360.985647*o,c=g(t,o+n/864e3);return-L(u,r,c)/360},K=function(t,e,n,u,c,a,f){const s=e+360.985647*a,i=a+n/864e3,l=g(t,i),h=j(t,i),d=L(s,c,l);return(O(u,h,d)+f)/(360*o(h)*o(u)*r(d))},L=function(t,e,n){let r=u(t+e-n);return r>180&&(r-=360),r},O=function(t,e,u){return n(Math.asin(r(t)*r(e)+o(t)*o(e)*o(u)))},g=function(t,e){const n=x(t-1/36525),r=x(t),o=x(t+1/36525),c=a(n,r,o,e,!0);return u(c)},j=function(t,e){const n=B(t-1/36525),r=B(t),o=B(t+1/36525),c=a(n,r,o,e);return u(c)},x=function(t){const e=tt(t),c=G(t)+.00256*o(e),a=Q(t),f=n(Math.atan2(o(c)*r(a),o(a)));return u(f)},B=function(t){const e=tt(t),u=G(t)+.00256*o(e),c=Q(t);return n(Math.asin(r(u)*r(c)))},Z=function(t){const e=q(t),n=G(t),r=e+X(t)*o(n);return u(r)},q=function(t){return 280.46061837+360.98564736629*(36525*t)+387933e-9*t*t-t*t*t/3871e4},G=function(t){return J(t)+$(t)},J=function(t){return c(t/100,p)},Q=function(t){const e=V(t),n=tt(t);return e-.00569-.00478*r(n)},V=function(t){return ot(t)+W(t)},W=function(t){const e=rt(t);return(1.914602-.004817*t-14e-6*t*t)*r(e)+(.019993-101e-6*t)*r(2*e)+29e-5*r(3*e)},X=function(t){const e=nt(t),n=rt(t),o=et(t),u=_(t),c=tt(t);let a,f=0;for(let s=0;s<63;s++)a=R[s][0]*e+R[s][1]*n+R[s][2]*o+R[s][3]*u+R[s][4]*c,f+=(R[s][5]+R[s][6]*t)*r(a);return f/=36e6,f},$=function(t){const e=nt(t),n=rt(t),r=et(t),u=_(t),c=tt(t);let a,f=0;for(let s=0;s<63;s++)a=R[s][0]*e+R[s][1]*n+R[s][2]*r+R[s][3]*u+R[s][4]*c,f+=(R[s][7]+R[s][8]*t)*o(a);return f/=36e6,f},_=function(t){const e=c(t,Y);return u(e)},tt=function(t){const e=c(t,C);return u(e)},et=function(t){const e=c(t,w);return u(e)},nt=function(t){const e=c(t,I);return u(e)},rt=function(t){const e=c(t,D);return u(e)},ot=function(t){const e=c(t,E);return u(e)},ut=t;let ct=!1,at=!1,ft={"**":"‡","--":"†"};const st=function(t){"boolean"==typeof t.roundToNearestMinute&&(ct=t.roundToNearestMinute),"boolean"==typeof t.returnTimeForPNMS&&(at=t.returnTimeForPNMS),"object"==typeof t.dateFormatKeys&&(ft=t.dateFormatKeys)},it=function(t,e){const n=t.creationData().input.slice(0,2);let r=t.format(e);return ft[n]&&(r+=ft[n]),r},lt=function(t,e,n){let r;try{r=F(t,e,n,"RISE")}catch(e){return H(e,t,6)}return r},ht=function(t,e,n){let r;try{r=F(t,e,n,"SET")}catch(e){return H(e,t,18)}return r},dt=function(t,e,n){let r;try{r=F(t,e,n,"RISE",6)}catch(e){return H(e,t,5,30)}return r},Mt=function(t,e,n){let r;try{r=F(t,e,n,"SET",6)}catch(e){return H(e,t,18,30)}return r},mt=function(t,e,n){let r;try{r=F(t,e,n,"RISE",12)}catch(e){return H(e,t,5)}return r},bt=function(t,e,n){let r;try{r=F(t,e,n,"SET",12)}catch(e){return H(e,t,19)}return r},yt=function(t,e,n){let r;try{r=F(t,e,n,"RISE",18)}catch(e){return H(e,t,4,30)}return r},Tt=function(t,e,n){let r;try{r=F(t,e,n,"SET",18)}catch(e){return H(e,t,19,30)}return r},kt=function(t,e){return function(t,e){const n=t.tz(),r=A.tz([t.year(),t.month(),t.date(),0,0,0],"UTC"),o=l(r),u=i(r),c=Z(u);let a=(x(u-o/315576e4)-e-c)/360;return a=v(a,t.utcOffset()),a+=P(u,c,o,e,a),r.add(Math.floor(3600*a*24+.5),"seconds"),ct&&(r.add(30,"seconds"),r.second(0)),r.tz(n),r}(t,e)},St=function(t,e,n){const r=ut([t]),o=ut([t+1]);let u=Math.floor(12.3685*((c=r).year()+(c.month()+1)/12+c.date()/365.25-2e3))-1;var c;const a=[];let f,i,d;for(let t=0;t<15;t++)f=h(u,e),i=s(f),d=l(i),d>0?i.subtract(Math.abs(d),"seconds"):i.add(Math.abs(d),"seconds"),ct&&(i.add(30,"seconds"),i.second(0)),void 0===n&&(n="UTC"),i.tz(n),i.isAfter(r)&&i.isBefore(o)&&a.push(i),u++;return a};export{yt as astronomicalDawn,Tt as astronomicalDusk,dt as civilDawn,Mt as civilDusk,it as formatCI,mt as nauticalDawn,bt as nauticalDusk,st as options,at as returnTimeForPNMS,ct as roundToNearestMinute,kt as solarNoon,lt as sunrise,ht as sunset,St as yearMoonPhases};
//# sourceMappingURL=meeussunmoon-es.min.js.map
