/**
 * @license MeeusSunMoon v3.0.0
 * (c) 2018 Jan Greis
 * licensed under MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("luxon")):"function"==typeof define&&define.amd?define(["exports","luxon"],t):t((e=e||self).MeeusSunMoon={},e.luxon)}(this,(function(e,t){"use strict";const r=e=>.017453292519943295*e,o=e=>57.29577951308232*e,n=e=>Math.sin(r(e)),s=e=>Math.cos(r(e)),a=e=>e-360*Math.floor(e/360),u=(e,t)=>{let r=1,o=0;const n=t.length;for(let s=0;s<n;s++)o+=r*t[s],r*=e;return o},c=(e,t,r,o,n=!1)=>{let s=t-e,a=r-t;return void 0!==n&&n&&(s<0&&(s+=360),a<0&&(a+=360)),t+o/2*(s+a+o*(a-s))},h=e=>{e+=.5;const r=Math.floor(e),o=e-r;let n=r;if(r>=2299161){const e=Math.floor((r-1867216.25)/36524.25);n+=1+e-Math.floor(e/4)}const s=n+1524,a=Math.floor((s-122.1)/365.25),u=Math.floor(365.25*a),c=Math.floor((s-u)/30.6001),h=s-u-Math.floor(30.6001*c)+o,l=Math.floor(h),i=Math.floor(24*(h-l)),M=Math.floor(60*(24*(h-l)-i)),f=Math.floor(60*(60*(24*(h-l)-i)-M));let d=c-1;c>13&&(d-=12);let p=a-4715;return d>2&&(p-=1),t.DateTime.fromISO("2000-01-01T12:00:00Z",{zone:"UTC"}).set({year:p,month:d,day:l,hour:i,minute:M,second:f})},l=e=>((e=>{let r=e.year,o=e.month;const n=e.day+(e.hour+(e.minute+e.second/60)/60)/24;o<3&&(r-=1,o+=12);const s=Math.floor(r/100);let a=0;return e>t.DateTime.fromISO("1582-10-15T12:00:00Z",{zone:"UTC"})&&(a=2-s+Math.floor(s/4)),Math.floor(365.25*(r+4716))+Math.floor(30.6001*(o+1))+n+a-1524.5})(e)-2451545)/36525,i=e=>{let t,r,o=e.year;switch(o+=(e.month-.5)/12,!0){case o<-1999||o>3e3:throw"DeltaT can only be calculated between 1999 BCE and 3000 CE";case o<-500:return t=(o-1820)/100,32*Math.pow(t,2)-20;case o<500:return t=o/100,u(t,[10583.6,-1014.41,33.78311,-5.952053,-.1798452,.022174192,.0090316521]);case o<1600:return t=(o-1e3)/100,u(t,[1574.2,-556.01,71.23472,.319781,-.8503463,-.005050998,.0083572073]);case o<1700:return r=o-1600,u(r,[120,-.9808,-.01532,1/7129]);case o<1800:return r=o-1700,u(r,[8.83,.1603,-.0059285,13336e-8,-1/1174e3]);case o<1860:return r=o-1800,u(r,[13.72,-.332447,.0068612,.0041116,-37436e-8,121272e-10,-1.699e-7,8.75e-10]);case o<1900:return r=o-1860,u(r,[7.62,.5737,-.251754,.01680668,-.0004473624,1/233174]);case o<1920:return r=o-1900,u(r,[-2.79,1.494119,-.0598939,.0061966,-197e-6]);case o<1941:return r=o-1920,u(r,[21.2,.84493,-.0761,.0020936]);case o<1961:return r=o-1950,u(r,[29.07,.407,-1/233,1/2547]);case o<1986:return r=o-1975,u(r,[45.45,1.067,-1/260,-1/718]);case o<2005:return r=o-2e3,u(r,[63.86,.3345,-.060374,.0017275,651814e-9,2373599e-11]);case o<2050:return r=o-2e3,u(r,[62.92,.32217,.005589]);case o<2150:return 32*Math.pow((o-1820)/100,2)-20-.5628*(2150-o);default:return t=(o-1820)/100,32*Math.pow(t,2)-20}},M=[357.52772,35999.05034,-1603e-7,-1/3e5],f=[280.46646,36000.76983,3032e-7],d=[84381.448/3600,-4680.93/3600,-1.55/3600,1999.25/3600,-51.38/3600,-249.67/3600,-39.05/3600,7.12/3600,27.87/3600,5.79/3600,2.45/3600],p=[93.27191,483202.017538,-.0036825,1/327270],m=[125.04452,-1934.136261,.0020708,1/45e4],T=[134.96298,477198.867398,.0086972,1/56250],w=[297.85036,445267.11148,-.0019142,1/189474],y=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[-2,0,0,2,2,-13187,-1.6,5736,-3.1],[0,0,0,2,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[0,0,1,0,0,712,.1,-7,0],[-2,1,0,2,2,-517,1.2,224,-.6],[0,0,0,2,1,-386,-.4,200,0],[0,0,1,2,2,-301,0,129,-.1],[-2,-1,0,2,2,217,-.5,-95,.3],[-2,0,1,0,0,-158,0,0,0],[-2,0,0,2,1,129,.1,-70,0],[0,0,-1,2,2,123,0,-53,0],[2,0,0,0,0,63,0,0,0],[0,0,1,0,1,63,.1,-33,0],[2,0,-1,2,2,-59,0,26,0],[0,0,-1,0,1,-58,-.1,32,0],[0,0,1,2,1,-51,0,27,0],[-2,0,2,0,0,48,0,0,0],[0,0,-2,2,1,46,0,-24,0],[2,0,0,2,2,-38,0,16,0],[0,0,2,2,2,-31,0,13,0],[0,0,2,0,0,29,0,0,0],[-2,0,1,2,2,29,0,-12,0],[0,0,0,2,0,26,0,0,0],[-2,0,0,2,0,-22,0,0,0],[0,0,-1,2,1,21,0,-10,0],[0,2,0,0,0,17,-.1,0,0],[2,0,-1,0,1,16,0,-8,0],[-2,2,0,2,2,-16,.1,7,0],[0,1,0,0,1,-15,0,9,0],[-2,0,1,0,1,-13,0,7,0],[0,-1,0,0,1,-12,0,6,0],[0,0,2,-2,0,11,0,0,0],[2,0,-1,2,1,-10,0,5,0],[2,0,1,2,2,-8,0,3,0],[0,1,0,2,2,7,0,-3,0],[-2,1,1,0,0,-7,0,0,0],[0,-1,0,2,2,-7,0,3,0],[2,0,0,2,1,-7,0,3,0],[2,0,1,0,0,6,0,0,0],[-2,0,2,2,2,6,0,-3,0],[-2,0,1,2,1,6,0,-3,0],[2,0,-2,0,1,-6,0,3,0],[2,0,0,0,1,-6,0,3,0],[0,-1,1,0,0,5,0,0,0],[-2,-1,0,2,1,-5,0,3,0],[-2,0,0,0,1,-5,0,3,0],[0,0,2,2,1,-5,0,3,0],[-2,0,2,0,1,4,0,0,0],[-2,1,0,2,1,4,0,0,0],[0,0,1,-2,0,4,0,0,0],[-1,0,1,0,0,-4,0,0,0],[-2,1,0,0,0,-4,0,0,0],[1,0,0,0,0,-4,0,0,0],[0,0,1,2,0,3,0,0,0],[0,0,-2,2,2,-3,0,0,0],[-1,-1,1,0,0,-3,0,0,0],[0,1,1,0,0,-3,0,0,0],[0,-1,1,2,2,-3,0,0,0],[2,-1,-1,2,2,-3,0,0,0],[0,0,3,2,2,3,0,0,0],[2,-1,0,2,2,-3,0,0,0]],S=(t,r,o,n,s=50/60)=>{const a=t.zone;let u=t.set({hour:0,minute:0,second:0}).setZone("UTC",{keepLocalTime:!0});const c=i(u),h=l(u),M=H(h),f=h-c/315576e4,d=F(f),p=O(f),m=E(r,p,s);let T,w=(d-o-M)/360;if(w=C(w,t.offset),"RISE"===n)T=w-m/360;else{if("SET"!==n)throw"WTF";T=w+m/360}let y=0,S=1;for(;Math.abs(S)>1e-4&&y<3;)S=U(h,M,c,r,o,T,s),T+=S,y++;return u=T>0?u.plus({seconds:Math.floor(3600*T*24+.5)}):u.minus({seconds:Math.floor(3600*T*24+.5)}),e.roundToNearestMinute&&(u=u.plus({seconds:30}).set({second:0})),u.setZone(a)},N=(t,r,o,n=0)=>{if(e.returnTimeForNoEventCase){const e=t.set({hour:o,minute:n,second:0}).plus({minutes:t.isInDST?60:0});return r&&(e.errorCode=r),e}return r},E=(e,t,r)=>{const a=(n(-r)-n(e)*n(t))/(s(e)*s(t));if(a<-1)throw A.SUN_HIGH;if(a>1)throw A.SUN_LOW;return o(Math.acos(a))},C=(e,t)=>{const r=e+t/1440;return r<0?e+1:r>1?e-1:e},I=(e,t,r,o,n)=>{const s=t+360.985647*n,a=v(e,n+r/864e3);return-b(s,o,a)/360},U=(e,t,r,o,a,u,c)=>{const h=t+360.985647*u,l=u+r/864e3,i=v(e,l),M=_(e,l),f=b(h,a,i);return(D(o,M,f)+c)/(360*s(M)*s(o)*n(f))},b=(e,t,r)=>{let o=a(e+t-r);return o>180&&(o-=360),o},D=(e,t,r)=>o(Math.asin(n(e)*n(t)+s(e)*s(t)*s(r))),v=(e,t)=>{const r=F(e-1/36525),o=F(e),n=F(e+1/36525),s=c(r,o,n,t,!0);return a(s)},_=(e,t)=>{const r=O(e-1/36525),o=O(e),n=O(e+1/36525),s=c(r,o,n,t);return a(s)},F=e=>{const t=K(e),r=x(e)+.00256*s(t),u=L(e),c=o(Math.atan2(s(r)*n(u),s(u)));return a(c)},O=e=>{const t=K(e),r=x(e)+.00256*s(t),a=L(e);return o(Math.asin(n(r)*n(a)))},H=e=>{const t=Z(e),r=x(e),o=t+R(e)*s(r);return a(o)},Z=e=>280.46061837+360.98564736629*(36525*e)+387933e-9*Math.pow(e,2)-Math.pow(e,3)/3871e4,x=e=>z(e)+W(e),z=e=>u(e/100,d),L=e=>{const t=j(e),r=K(e);return t-.00569-.00478*n(r)},j=e=>B(e)+k(e),k=e=>{const t=q(e);return(1.914602-.004817*e-14e-6*Math.pow(e,2))*n(t)+(.019993-101e-6*e)*n(2*t)+29e-5*n(3*t)},R=e=>{const t=g(e),r=q(e),o=P(e),s=G(e),a=K(e);let u,c=0;for(let h=0;h<63;h++)u=y[h][0]*t+y[h][1]*r+y[h][2]*o+y[h][3]*s+y[h][4]*a,c+=(y[h][5]+y[h][6]*e)*n(u);return c/36e6},W=e=>{const t=g(e),r=q(e),o=P(e),n=G(e),a=K(e);let u,c=0;for(let h=0;h<63;h++)u=y[h][0]*t+y[h][1]*r+y[h][2]*o+y[h][3]*n+y[h][4]*a,c+=(y[h][7]+y[h][8]*e)*s(u);return c/36e6},G=e=>{const t=u(e,p);return a(t)},K=e=>{const t=u(e,m);return a(t)},P=e=>{const t=u(e,T);return a(t)},g=e=>{const t=u(e,w);return a(t)},q=e=>{const t=u(e,M);return a(t)},B=e=>{const t=u(e,f);return a(t)},A={SUN_HIGH:"SUN_HIGH",SUN_LOW:"SUN_LOW"},J=(e,t)=>{const r=(e=>e/1236.85)(e+=t/4),o=ee(r),n=Q(r,e),s=V(r,e),a=X(r,e),u=Y(r,e),c=$(r,e),h=te(r,e);let l=0;return 0===t||2===t?l+=oe(o,s,a,u,c,t):1!==t&&3!==t||(l+=ne(o,s,a,u,c,t)),l+=re(h),n+l},Q=(e,t)=>2451550.09766+29.530588861*t+15437e-8*Math.pow(e,2)-15e-8*Math.pow(e,3)+7.3e-10*Math.pow(e,4),V=(e,t)=>2.5534+29.1053567*t-14e-7*Math.pow(e,2)-11e-8*Math.pow(e,3),X=(e,t)=>201.5643+385.81693528*t+.0107582*Math.pow(e,2)+1238e-8*Math.pow(e,3)-58e-9*Math.pow(e,4),Y=(e,t)=>160.7108+390.67050284*t-.0016118*Math.pow(e,2)-227e-8*Math.pow(e,3)+11e-9*Math.pow(e,4),$=(e,t)=>124.7746-1.56375588*t+.0020672*Math.pow(e,2)+215e-8*Math.pow(e,3),ee=e=>1-.002516*e-74e-7*Math.pow(e,2),te=(e,t)=>[0,299.77+.107408*t-.009173*Math.pow(e,2),251.88+.016321*t,251.83+26.651886*t,349.42+36.412478*t,84.66+18.206239*t,141.74+53.303771*t,207.14+2.453732*t,154.84+7.30686*t,34.52+27.261239*t,207.19+.121824*t,291.34+1.844379*t,161.72+24.198154*t,239.56+25.513099*t,331.55+3.592518*t],re=e=>325e-6*n(e[1])+165e-6*n(e[2])+164e-6*n(e[3])+126e-6*n(e[4])+11e-5*n(e[5])+62e-6*n(e[6])+6e-5*n(e[7])+56e-6*n(e[8])+47e-6*n(e[9])+42e-6*n(e[10])+4e-5*n(e[11])+37e-6*n(e[12])+35e-6*n(e[13])+23e-6*n(e[14]),oe=(e,t,r,o,s,a)=>{let u=-.00111*n(r-2*o)-57e-5*n(r+2*o)+56e-5*e*n(2*r+t)-42e-5*n(3*r)+42e-5*e*n(t+2*o)+38e-5*e*n(t-2*o)-24e-5*e*n(2*r-t)-17e-5*n(s)-7e-5*n(r+2*t)+4e-5*n(2*r-2*o)+4e-5*n(3*t)+3e-5*n(r+t-2*o)+3e-5*n(2*r+2*o)-3e-5*n(r+t+2*o)+3e-5*n(r-t+2*o)-2e-5*n(r-t-2*o)-2e-5*n(3*r+t)+2e-5*n(4*r);return 0===a?u+=-.4072*n(r)+.17241*e*n(t)+.01608*n(2*r)+.01039*n(2*o)+.00739*e*n(r-t)-.00514*e*n(r+t)+.00208*e*e*n(2*t):2===a&&(u+=-.40614*n(r)+.17302*e*n(t)+.01614*n(2*r)+.01043*n(2*o)+.00734*e*n(r-t)-.00515*e*n(r+t)+.00209*e*e*n(2*t)),u},ne=(e,t,r,o,a,u)=>{let c=-.62801*n(r)+.17172*e*n(t)-.01183*e*n(r+t)+.00862*n(2*r)+.00804*n(2*o)+.00454*e*n(r-t)+.00204*e*e*n(2*t)-.0018*n(r-2*o)-7e-4*n(r+2*o)-4e-4*n(3*r)-34e-5*e*n(2*r-t)+32e-5*e*n(t+2*o)+32e-5*e*n(t-2*o)-28e-5*e*e*n(r+2*t)+27e-5*e*n(2*r+t)-17e-5*n(a)-5e-5*n(r-t-2*o)+4e-5*n(2*r+2*o)-4e-5*n(r+t+2*o)+4e-5*n(r-2*t)+3e-5*n(r+t-2*o)+3e-5*n(3*t)+2e-5*n(2*r-2*o)+2e-5*n(r-t+2*o)-2e-5*n(3*r+t);const h=.00306-38e-5*e*s(t)+26e-5*s(r)-2e-5*s(r-t)+2e-5*s(r+t)+2e-5*s(2*o);return 1===u?c+=h:3===u&&(c-=h),c};e.roundToNearestMinute=!1,e.returnTimeForNoEventCase=!1;let se={SUN_HIGH:"‡",SUN_LOW:"†"};e.astronomicalDawn=(e,t,r)=>{try{return S(e,t,r,"RISE",18)}catch(t){return N(e,t,4,30)}},e.astronomicalDusk=(e,t,r)=>{try{return S(e,t,r,"SET",18)}catch(t){return N(e,t,19,30)}},e.civilDawn=(e,t,r)=>{try{return S(e,t,r,"RISE",6)}catch(t){return N(e,t,5,30)}},e.civilDusk=(e,t,r)=>{try{return S(e,t,r,"SET",6)}catch(t){return N(e,t,18,30)}},e.formatCI=(e,t)=>{const r=e.errorCode;let o=e.toFormat(t);return se[r]&&(o+=se[r]),o},e.nauticalDawn=(e,t,r)=>{try{return S(e,t,r,"RISE",12)}catch(t){return N(e,t,5)}},e.nauticalDusk=(e,t,r)=>{try{return S(e,t,r,"SET",12)}catch(t){return N(e,t,19)}},e.options=t=>{"boolean"==typeof t.roundToNearestMinute&&(e.roundToNearestMinute=t.roundToNearestMinute),"boolean"==typeof t.returnTimeForNoEventCase&&(e.returnTimeForNoEventCase=t.returnTimeForNoEventCase),"object"==typeof t.dateFormatKeys&&(se=t.dateFormatKeys)},e.solarNoon=(t,r)=>((t,r)=>{const o=t.zone;let n=t.set({hour:0,minute:0,second:0}).setZone("UTC",{keepLocalTime:!0});const s=i(n),a=l(n),u=H(a);let c=(F(a-s/315576e4)-r-u)/360;return c=C(c,t.offset),c+=I(a,u,s,r,c),n=n.plus({seconds:Math.floor(3600*c*24+.5)}),e.roundToNearestMinute&&(n=n.plus({seconds:30}).set({second:0})),n.setZone(o)})(t,r),e.sunrise=(e,t,r)=>{try{return S(e,t,r,"RISE")}catch(t){return N(e,t,6)}},e.sunset=(e,t,r)=>{try{return S(e,t,r,"SET")}catch(t){return N(e,t,18)}},e.yearMoonPhases=(r,o,n="UTC")=>{const s=t.DateTime.fromObject({year:r,month:1,day:1,hour:0,minute:0,second:0,zone:n}),a=t.DateTime.fromObject({year:r+1,month:1,day:1,hour:0,minute:0,second:0,zone:n});let u=Math.floor(12.3685*((c=s).year+c.month/12+c.day/365.25-2e3))-1;var c;const l=[];let M,f,d;for(let t=0;t<15;t++)M=J(u,o),f=h(M).setZone(n),d=i(f),f=d>0?f.minus({seconds:Math.abs(d)}):f.plus({seconds:Math.abs(d)}),e.roundToNearestMinute&&(f=f.plus({seconds:30}).set({second:0})),f>=s&&f<a&&l.push(f),u++;return l},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=meeussunmoon.min.js.map
