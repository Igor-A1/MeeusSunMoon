/**
 * @license MeeusSunMoon v2.0.0
 * (c) 2018 Jan Greis
 * licensed under MIT
 */

!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.MeeusSunMoon={})}(this,function(e){"use strict";var r=function(e){return.017453292519943295*e},t=function(e){return 57.29577951308232*e},n=function(e){return Math.sin(r(e))},o=function(e){return Math.cos(r(e))},u=function(e){return e-360*Math.floor(e/360)},a=function(e,r){for(var t=1,n=0,o=r.length,u=0;u<o;u++)n+=t*r[u],t*=e;return n},i=function(e,r,t,n,o){var u=r-e,a=t-r;return void 0!==o&&o&&(u<0&&(u+=360),a<0&&(a+=360)),r+n/2*(u+a+n*(a-u))},f=function(e){e+=.5;var r=Math.floor(e),t=e-r,n=r;if(r>=2299161){var o=Math.floor((r-1867216.25)/36524.25);n+=1+o-Math.floor(o/4)}var u=n+1524,a=Math.floor((u-122.1)/365.25),i=Math.floor(365.25*a),f=Math.floor((u-i)/30.6001),c=u-i-Math.floor(30.6001*f)+t,s=Math.floor(c),d=Math.floor(24*(c-s)),v=Math.floor(60*(24*(c-s)-d)),M=Math.floor(60*(60*(24*(c-s)-d)-v)),m=f-1;f>13&&(m-=12);var h=a-4715;m>2&&(h-=1);var l=moment.tz("2000-01-01T12:00:00","UTC");return l.year(h),l.month(m-1),l.date(s),l.hour(d),l.minute(v),l.second(M),l},c=function(e){return(function(e){var r=e.year(),t=e.month()+1,n=e.date()+(e.hour()+(e.minute()+e.second()/60)/60)/24;t<3&&(r-=1,t+=12);var o=Math.floor(r/100),u=moment("1582-10-15T12:00:00Z"),a=0;return e.isAfter(u)&&(a=2-o+Math.floor(o/4)),Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+n+a-1524.5}(e)-2451545)/36525},s=function(e){var r=e.year(),t=void 0,n=void 0,o=void 0;switch(!0){case(r+=(e.month()+.5)/12)<-1999:o=!1;break;case r<-500:o=32*(t=(r-1820)/100)*t-20;break;case r<500:o=10583.6-1014.41*(t=r/100)+33.78311*t*t-5.952053*t*t*t-.1798452*t*t*t*t+.022174192*t*t*t*t*t+.0090316521*t*t*t*t*t*t;break;case r<1600:o=1574.2-556.01*(t=(r-1e3)/100)+71.23472*t*t+.319781*t*t*t-.8503463*t*t*t*t-.005050998*t*t*t*t*t+.0083572073*t*t*t*t*t*t;break;case r<1700:o=120-.9808*(n=r-1600)-.01532*n*n+n*n*n/7129;break;case r<1800:o=8.83+.1603*(n=r-1700)-.0059285*n*n+13336e-8*n*n*n-n*n*n*n/1174e3;break;case r<1860:o=13.72-.332447*(n=r-1800)+.0068612*n*n+.0041116*n*n*n-37436e-8*n*n*n*n+121272e-10*n*n*n*n*n-1.699e-7*n*n*n*n*n*n+8.75e-10*n*n*n*n*n*n*n;break;case r<1900:o=7.62+.5737*(n=r-1860)-.251754*n*n+.01680668*n*n*n-.0004473624*n*n*n*n+n*n*n*n*n/233174;break;case r<1920:o=1.494119*(n=r-1900)-2.79-.0598939*n*n+.0061966*n*n*n-197e-6*n*n*n*n;break;case r<1941:o=21.2+.84493*(n=r-1920)-.0761*n*n+.0020936*n*n*n;break;case r<1961:o=29.07+.407*(n=r-1950)-n*n/233+n*n*n/2547;break;case r<1986:o=45.45+1.067*(n=r-1975)-n*n/260-n*n*n/718;break;case r<2005:o=63.86+.3345*(n=r-2e3)-.060374*n*n+.0017275*n*n*n+651814e-9*n*n*n*n+2373599e-11*n*n*n*n*n;break;case r<2050:o=62.92+.32217*(n=r-2e3)+.005589*n*n;break;case r<2150:o=(r-1820)/100*32*((r-1820)/100)-20-.5628*(2150-r);break;default:o=32*(t=(r-1820)/100)*t-20}return o},d=function(e,r){var t=function(e){return e/1236.85}(e+=r/4),n=b(t),o=v(t,e),u=M(t,e),a=m(t,e),i=h(t,e),f=l(t,e),c=y(t,e),s=0;return 0===r||2===r?s+=p(n,u,a,i,f,r):1!==r&&3!==r||(s+=S(n,u,a,i,f,r)),o+=s+=T(c)},v=function(e,r){return 2451550.09766+29.530588861*r+15437e-8*e*e-1.5e-7*e*e*e+7.3e-10*e*e*e*e},M=function(e,r){return 2.5534+29.1053567*r-14e-7*e*e-1.1e-7*e*e*e},m=function(e,r){return 201.5643+385.81693528*r+.0107582*e*e+1238e-8*e*e*e-5.8e-8*e*e*e*e},h=function(e,r){return 160.7108+390.67050284*r-.0016118*e*e-227e-8*e*e*e+1.1e-8*e*e*e*e},l=function(e,r){return 124.7746-1.56375588*r+.0020672*e*e+215e-8*e*e*e},b=function(e){return 1-.002516*e-74e-7*e*e},y=function(e,r){var t=[];return t[0]=0,t[1]=299.77+.107408*r-.009173*e*e,t[2]=251.88+.016321*r,t[3]=251.83+26.651886*r,t[4]=349.42+36.412478*r,t[5]=84.66+18.206239*r,t[6]=141.74+53.303771*r,t[7]=207.14+2.453732*r,t[8]=154.84+7.30686*r,t[9]=34.52+27.261239*r,t[10]=207.19+.121824*r,t[11]=291.34+1.844379*r,t[12]=161.72+24.198154*r,t[13]=239.56+25.513099*r,t[14]=331.55+3.592518*r,t},T=function(e){return 325e-6*n(e[1])+165e-6*n(e[2])+164e-6*n(e[3])+126e-6*n(e[4])+11e-5*n(e[5])+62e-6*n(e[6])+6e-5*n(e[7])+56e-6*n(e[8])+47e-6*n(e[9])+42e-6*n(e[10])+4e-5*n(e[11])+37e-6*n(e[12])+35e-6*n(e[13])+23e-6*n(e[14])},p=function(e,r,t,o,u,a){var i=-.00111*n(t-2*o)-57e-5*n(t+2*o)+56e-5*e*n(2*t+r)-42e-5*n(3*t)+42e-5*e*n(r+2*o)+38e-5*e*n(r-2*o)-24e-5*e*n(2*t-r)-17e-5*n(u)-7e-5*n(t+2*r)+4e-5*n(2*t-2*o)+4e-5*n(3*r)+3e-5*n(t+r-2*o)+3e-5*n(2*t+2*o)-3e-5*n(t+r+2*o)+3e-5*n(t-r+2*o)-2e-5*n(t-r-2*o)-2e-5*n(3*t+r)+2e-5*n(4*t);return 0===a?i+=-.4072*n(t)+.17241*e*n(r)+.01608*n(2*t)+.01039*n(2*o)+.00739*e*n(t-r)-.00514*e*n(t+r)+.00208*e*e*n(2*r):2===a&&(i+=-.40614*n(t)+.17302*e*n(r)+.01614*n(2*t)+.01043*n(2*o)+.00734*e*n(t-r)-.00515*e*n(t+r)+.00209*e*e*n(2*r)),i},S=function(e,r,t,u,a,i){var f=-.62801*n(t)+.17172*e*n(r)-.01183*e*n(t+r)+.00862*n(2*t)+.00804*n(2*u)+.00454*e*n(t-r)+.00204*e*e*n(2*r)-.0018*n(t-2*u)-7e-4*n(t+2*u)-4e-4*n(3*t)-34e-5*e*n(2*t-r)+32e-5*e*n(r+2*u)+32e-5*e*n(r-2*u)-28e-5*e*e*n(t+2*r)+27e-5*e*n(2*t+r)-17e-5*n(a)-5e-5*n(t-r-2*u)+4e-5*n(2*t+2*u)-4e-5*n(t+r+2*u)+4e-5*n(t-2*r)+3e-5*n(t+r-2*u)+3e-5*n(3*r)+2e-5*n(2*t-2*u)+2e-5*n(t-r+2*u)-2e-5*n(3*t+r),c=.00306-38e-5*e*o(r)+26e-5*o(t)-2e-5*o(t-r)+2e-5*o(t+r)+2e-5*o(2*u);return 1===i?f+=c:3===i&&(f-=c),f},N=[357.52772,35999.05034,-1603e-7,-1/3e5],k=[280.46646,36000.76983,3032e-7],z=[84381.448/3600,-4680.93/3600,-1.55/3600,1999.25/3600,-51.38/3600,-249.67/3600,-39.05/3600,7.12/3600,27.87/3600,5.79/3600,2.45/3600],P=[93.27191,483202.017538,-.0036825,1/327270],F=[125.04452,-1934.136261,.0020708,1/45e4],Y=[134.96298,477198.867398,.0086972,1/56250],D=[297.85036,445267.11148,-.0019142,1/189474],E=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[-2,0,0,2,2,-13187,-1.6,5736,-3.1],[0,0,0,2,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[0,0,1,0,0,712,.1,-7,0],[-2,1,0,2,2,-517,1.2,224,-.6],[0,0,0,2,1,-386,-.4,200,0],[0,0,1,2,2,-301,0,129,-.1],[-2,-1,0,2,2,217,-.5,-95,.3],[-2,0,1,0,0,-158,0,0,0],[-2,0,0,2,1,129,.1,-70,0],[0,0,-1,2,2,123,0,-53,0],[2,0,0,0,0,63,0,0,0],[0,0,1,0,1,63,.1,-33,0],[2,0,-1,2,2,-59,0,26,0],[0,0,-1,0,1,-58,-.1,32,0],[0,0,1,2,1,-51,0,27,0],[-2,0,2,0,0,48,0,0,0],[0,0,-2,2,1,46,0,-24,0],[2,0,0,2,2,-38,0,16,0],[0,0,2,2,2,-31,0,13,0],[0,0,2,0,0,29,0,0,0],[-2,0,1,2,2,29,0,-12,0],[0,0,0,2,0,26,0,0,0],[-2,0,0,2,0,-22,0,0,0],[0,0,-1,2,1,21,0,-10,0],[0,2,0,0,0,17,-.1,0,0],[2,0,-1,0,1,16,0,-8,0],[-2,2,0,2,2,-16,.1,7,0],[0,1,0,0,1,-15,0,9,0],[-2,0,1,0,1,-13,0,7,0],[0,-1,0,0,1,-12,0,6,0],[0,0,2,-2,0,11,0,0,0],[2,0,-1,2,1,-10,0,5,0],[2,0,1,2,2,-8,0,3,0],[0,1,0,2,2,7,0,-3,0],[-2,1,1,0,0,-7,0,0,0],[0,-1,0,2,2,-7,0,3,0],[2,0,0,2,1,-7,0,3,0],[2,0,1,0,0,6,0,0,0],[-2,0,2,2,2,6,0,-3,0],[-2,0,1,2,1,6,0,-3,0],[2,0,-2,0,1,-6,0,3,0],[2,0,0,0,1,-6,0,3,0],[0,-1,1,0,0,5,0,0,0],[-2,-1,0,2,1,-5,0,3,0],[-2,0,0,0,1,-5,0,3,0],[0,0,2,2,1,-5,0,3,0],[-2,0,2,0,1,4,0,0,0],[-2,1,0,2,1,4,0,0,0],[0,0,1,-2,0,4,0,0,0],[-1,0,1,0,0,-4,0,0,0],[-2,1,0,0,0,-4,0,0,0],[1,0,0,0,0,-4,0,0,0],[0,0,1,2,0,3,0,0,0],[0,0,-2,2,2,-3,0,0,0],[-1,-1,1,0,0,-3,0,0,0],[0,1,1,0,0,-3,0,0,0],[0,-1,1,2,2,-3,0,0,0],[2,-1,-1,2,2,-3,0,0,0],[0,0,3,2,2,3,0,0,0],[2,-1,0,2,2,-3,0,0,0]],C=function(r,t,n,o){var u=r.tz(),a=moment.tz([r.year(),r.month(),r.date(),0,0,0],"UTC"),i=s(a),f=c(a),d=_(f),v=f-i/315576e4,M=L(v),m=R(v),h=U(t,m),l=(M-n-d)/360;l=j(l,r.utcOffset());var b=void 0;if("RISE"===o)b=l-h/360;else{if("SET"!==o)return!1;b=l+h/360}for(var y=0,T=1;Math.abs(T)>1e-4&&y<3;)b+=T=x(f,d,i,t,n,b),y++;return b>0?a.add(Math.floor(3600*b*24+.5),"seconds"):a.subtract(Math.floor(3600*Math.abs(b)*24+.5),"seconds"),e.roundToNearestMinute&&(a.add(30,"seconds"),a.second(0)),a.tz(u),a},H=function(r,t,n){return e.returnTimeForPNMS&&(t.isDST()&&(n+=1),r.tz(t.tz()).year(t.year()).month(t.month()).date(t.date()).hour(n).minute(0).second(0)),r},U=function(r,u){var a=(n(-50/60)-n(r)*n(u))/(o(r)*o(u));if(a<-1)throw e.returnTimeForPNMS?moment.tz("**2000-01-01 12:00:00","YYYY-MM-DD HH:mm:ss","Europe/London"):"MS";if(a>1)throw e.returnTimeForPNMS?moment.tz("--2000-01-01 12:00:00","YYYY-MM-DD HH:mm:ss","Europe/London"):"PN";return t(Math.acos(a))},j=function(e,r){var t=e+r/1440;return t<0?e+1:t>1?e-1:e},w=function(e,r,t,n,o){var u=r+360.985647*o,a=A(e,o+t/864e3);return-I(u,n,a)/360},x=function(e,r,t,u,a,i){var f=r+360.985647*i,c=i+t/864e3,s=A(e,c),d=K(e,c),v=I(f,a,s);return(O(u,d,v)+50/60)/(360*o(d)*o(u)*n(v))},I=function(e,r,t){var n=u(e+r-t);return n>180&&(n-=360),n},O=function(e,r,u){return t(Math.asin(n(e)*n(r)+o(e)*o(r)*o(u)))},A=function(e,r){var t=L(e-1/36525),n=L(e),o=L(e+1/36525),a=i(t,n,o,r,!0);return u(a)},K=function(e,r){var t=R(e-1/36525),n=R(e),o=R(e+1/36525),a=i(t,n,o,r);return u(a)},L=function(e){var r=X(e),a=B(e)+.00256*o(r),i=q(e),f=t(Math.atan2(o(a)*n(i),o(i)));return u(f)},R=function(e){var r=X(e),u=B(e)+.00256*o(r),a=q(e);return t(Math.asin(n(u)*n(a)))},_=function(e){var r=g(e),t=B(e),n=r+Q(e)*o(t);return u(n)},g=function(e){return 280.46061837+360.98564736629*(36525*e)+387933e-9*e*e-e*e*e/3871e4},B=function(e){return Z(e)+V(e)},Z=function(e){return a(e/100,z)},q=function(e){var r=G(e),t=X(e);return r-.00569-.00478*n(t)},G=function(e){return te(e)+J(e)},J=function(e){var r=re(e);return(1.914602-.004817*e-14e-6*e*e)*n(r)+(.019993-101e-6*e)*n(2*r)+29e-5*n(3*r)},Q=function(e){for(var r=ee(e),t=re(e),o=$(e),u=W(e),a=X(e),i=0,f=void 0,c=0;c<63;c++)f=E[c][0]*r+E[c][1]*t+E[c][2]*o+E[c][3]*u+E[c][4]*a,i+=(E[c][5]+E[c][6]*e)*n(f);return i/=36e6},V=function(e){for(var r=ee(e),t=re(e),n=$(e),u=W(e),a=X(e),i=0,f=void 0,c=0;c<63;c++)f=E[c][0]*r+E[c][1]*t+E[c][2]*n+E[c][3]*u+E[c][4]*a,i+=(E[c][7]+E[c][8]*e)*o(f);return i/=36e6},W=function(e){var r=a(e,P);return u(r)},X=function(e){var r=a(e,F);return u(r)},$=function(e){var r=a(e,Y);return u(r)},ee=function(e){var r=a(e,D);return u(r)},re=function(e){var r=a(e,N);return u(r)},te=function(e){var r=a(e,k);return u(r)},ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.roundToNearestMinute=!1,e.returnTimeForPNMS=!1;var oe={"**":"‡","--":"†"};e.options=function(r){"boolean"==typeof r.roundToNearestMinute&&(e.roundToNearestMinute=r.roundToNearestMinute),"boolean"==typeof r.returnTimeForPNMS&&(e.returnTimeForPNMS=r.returnTimeForPNMS),"object"===ne(r.dateFormatKeys)&&(oe=r.dateFormatKeys)},e.formatCI=function(e,r){var t=e.creationData().input.slice(0,2),n=e.format(r);return oe[t]&&(n+=oe[t]),n},e.sunrise=function(e,r,t){var n=void 0;try{n=C(e,r,t,"RISE")}catch(r){return H(r,e,6)}return n},e.sunset=function(e,r,t){var n=void 0;try{n=C(e,r,t,"SET")}catch(r){return H(r,e,18)}return n},e.solarNoon=function(r,t){return function(r,t){var n=r.tz(),o=moment.tz([r.year(),r.month(),r.date(),0,0,0],"UTC"),u=s(o),a=c(o),i=_(a),f=(L(a-u/315576e4)-t-i)/360;return f=j(f,r.utcOffset()),f+=w(a,i,u,t,f),o.add(Math.floor(3600*f*24+.5),"seconds"),e.roundToNearestMinute&&(o.add(30,"seconds"),o.second(0)),o.tz(n),o}(r,t)},e.yearMoonPhases=function(r,t,n){for(var o,u=moment([r]),a=moment([r+1]),i=Math.floor(12.3685*((o=u).year()+(o.month()+1)/12+o.date()/365.25-2e3))-1,c=[],v=void 0,M=void 0,m=void 0,h=0;h<15;h++)v=d(i,t),M=f(v),(m=s(M))>0?M.subtract(Math.abs(m),"seconds"):M.add(Math.abs(m),"seconds"),e.roundToNearestMinute&&(M.add(30,"seconds"),M.second(0)),void 0===n&&(n="UTC"),M.tz(n),M.isAfter(u)&&M.isBefore(a)&&c.push(M),i++;return c},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=meeussunmoon.min.js.map
