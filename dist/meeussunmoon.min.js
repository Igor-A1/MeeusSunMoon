/**
 * @license MeeusSunMoon v2.0.0
 * (c) 2018 Jan Greis
 * licensed under MIT
 */

/**
 * @license MeeusSunMoon v2.0.0
 * (c) 2018 Jan Greis
 * licensed under MIT
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("moment-timezone")):"function"==typeof define&&define.amd?define(["exports","moment-timezone"],r):r((e=e||self).MeeusSunMoon={},e.momentNs)}(this,(function(e,r){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e){return.017453292519943295*e},o=function(e){return 57.29577951308232*e},u=function(e){return Math.sin(n(e))},a=function(e){return Math.cos(n(e))},c=function(e){return e-360*Math.floor(e/360)},i=function(e,r){for(var t=1,n=0,o=r.length,u=0;u<o;u++)n+=t*r[u],t*=e;return n},f=function(e,r,t,n,o){var u=r-e,a=t-r;return void 0!==o&&o&&(u<0&&(u+=360),a<0&&(a+=360)),r+n/2*(u+a+n*(a-u))},s=r,h=function(e){e+=.5;var r=Math.floor(e),t=e-r,n=r;if(r>=2299161){var o=Math.floor((r-1867216.25)/36524.25);n+=1+o-Math.floor(o/4)}var u=n+1524,a=Math.floor((u-122.1)/365.25),c=Math.floor(365.25*a),i=Math.floor((u-c)/30.6001),f=u-c-Math.floor(30.6001*i)+t,h=Math.floor(f),v=Math.floor(24*(f-h)),d=Math.floor(60*(24*(f-h)-v)),M=Math.floor(60*(60*(24*(f-h)-v)-d)),l=i-1;i>13&&(l-=12);var m=a-4715;l>2&&(m-=1);var y=s.tz("2000-01-01T12:00:00","UTC");return y.year(m),y.month(l-1),y.date(h),y.hour(v),y.minute(d),y.second(M),y},v=function(e){return function(e){return(e-2451545)/36525}(function(e){var r=e.year(),t=e.month()+1,n=e.date()+(e.hour()+(e.minute()+e.second()/60)/60)/24;t<3&&(r-=1,t+=12);var o=Math.floor(r/100),u=s("1582-10-15T12:00:00Z"),a=0;return e.isAfter(u)&&(a=2-o+Math.floor(o/4)),Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+n+a-1524.5}(e))},d=function(e){var r,t,n,o=e.year();switch(o+=(e.month()+.5)/12,!0){case o<-1999:n=!1;break;case o<-500:n=32*(r=(o-1820)/100)*r-20;break;case o<500:n=10583.6-1014.41*(r=o/100)+33.78311*r*r-5.952053*r*r*r-.1798452*r*r*r*r+.022174192*r*r*r*r*r+.0090316521*r*r*r*r*r*r;break;case o<1600:n=1574.2-556.01*(r=(o-1e3)/100)+71.23472*r*r+.319781*r*r*r-.8503463*r*r*r*r-.005050998*r*r*r*r*r+.0083572073*r*r*r*r*r*r;break;case o<1700:n=120-.9808*(t=o-1600)-.01532*t*t+t*t*t/7129;break;case o<1800:n=8.83+.1603*(t=o-1700)-.0059285*t*t+13336e-8*t*t*t-t*t*t*t/1174e3;break;case o<1860:n=13.72-.332447*(t=o-1800)+.0068612*t*t+.0041116*t*t*t-37436e-8*t*t*t*t+121272e-10*t*t*t*t*t-1.699e-7*t*t*t*t*t*t+8.75e-10*t*t*t*t*t*t*t;break;case o<1900:n=7.62+.5737*(t=o-1860)-.251754*t*t+.01680668*t*t*t-.0004473624*t*t*t*t+t*t*t*t*t/233174;break;case o<1920:n=1.494119*(t=o-1900)-2.79-.0598939*t*t+.0061966*t*t*t-197e-6*t*t*t*t;break;case o<1941:n=21.2+.84493*(t=o-1920)-.0761*t*t+.0020936*t*t*t;break;case o<1961:n=29.07+.407*(t=o-1950)-t*t/233+t*t*t/2547;break;case o<1986:n=45.45+1.067*(t=o-1975)-t*t/260-t*t*t/718;break;case o<2005:n=63.86+.3345*(t=o-2e3)-.060374*t*t+.0017275*t*t*t+651814e-9*t*t*t*t+2373599e-11*t*t*t*t*t;break;case o<2050:n=62.92+.32217*(t=o-2e3)+.005589*t*t;break;case o<2150:n=(o-1820)/100*32*((o-1820)/100)-20-.5628*(2150-o);break;default:n=32*(r=(o-1820)/100)*r-20}return n},M=function(e,r){var t=function(e){return e/1236.85}(e+=r/4),n=N(t),o=l(t,e),u=m(t,e),a=y(t,e),c=b(t,e),i=T(t,e),f=S(t,e),s=0;return 0===r||2===r?s+=k(n,u,a,c,i,r):1!==r&&3!==r||(s+=D(n,u,a,c,i,r)),o+=s+=p(f)},l=function(e,r){return 2451550.09766+29.530588861*r+15437e-8*e*e-15e-8*e*e*e+7.3e-10*e*e*e*e},m=function(e,r){return 2.5534+29.1053567*r-14e-7*e*e-11e-8*e*e*e},y=function(e,r){return 201.5643+385.81693528*r+.0107582*e*e+1238e-8*e*e*e-58e-9*e*e*e*e},b=function(e,r){return 160.7108+390.67050284*r-.0016118*e*e-227e-8*e*e*e+11e-9*e*e*e*e},T=function(e,r){return 124.7746-1.56375588*r+.0020672*e*e+215e-8*e*e*e},N=function(e){return 1-.002516*e-74e-7*e*e},S=function(e,r){var t=[];return t[0]=0,t[1]=299.77+.107408*r-.009173*e*e,t[2]=251.88+.016321*r,t[3]=251.83+26.651886*r,t[4]=349.42+36.412478*r,t[5]=84.66+18.206239*r,t[6]=141.74+53.303771*r,t[7]=207.14+2.453732*r,t[8]=154.84+7.30686*r,t[9]=34.52+27.261239*r,t[10]=207.19+.121824*r,t[11]=291.34+1.844379*r,t[12]=161.72+24.198154*r,t[13]=239.56+25.513099*r,t[14]=331.55+3.592518*r,t},p=function(e){return 325e-6*u(e[1])+165e-6*u(e[2])+164e-6*u(e[3])+126e-6*u(e[4])+11e-5*u(e[5])+62e-6*u(e[6])+6e-5*u(e[7])+56e-6*u(e[8])+47e-6*u(e[9])+42e-6*u(e[10])+4e-5*u(e[11])+37e-6*u(e[12])+35e-6*u(e[13])+23e-6*u(e[14])},k=function(e,r,t,n,o,a){var c=-.00111*u(t-2*n)-57e-5*u(t+2*n)+56e-5*e*u(2*t+r)-42e-5*u(3*t)+42e-5*e*u(r+2*n)+38e-5*e*u(r-2*n)-24e-5*e*u(2*t-r)-17e-5*u(o)-7e-5*u(t+2*r)+4e-5*u(2*t-2*n)+4e-5*u(3*r)+3e-5*u(t+r-2*n)+3e-5*u(2*t+2*n)-3e-5*u(t+r+2*n)+3e-5*u(t-r+2*n)-2e-5*u(t-r-2*n)-2e-5*u(3*t+r)+2e-5*u(4*t);return 0===a?c+=-.4072*u(t)+.17241*e*u(r)+.01608*u(2*t)+.01039*u(2*n)+.00739*e*u(t-r)-.00514*e*u(t+r)+.00208*e*e*u(2*r):2===a&&(c+=-.40614*u(t)+.17302*e*u(r)+.01614*u(2*t)+.01043*u(2*n)+.00734*e*u(t-r)-.00515*e*u(t+r)+.00209*e*e*u(2*r)),c},D=function(e,r,t,n,o,c){var i=-.62801*u(t)+.17172*e*u(r)-.01183*e*u(t+r)+.00862*u(2*t)+.00804*u(2*n)+.00454*e*u(t-r)+.00204*e*e*u(2*r)-.0018*u(t-2*n)-7e-4*u(t+2*n)-4e-4*u(3*t)-34e-5*e*u(2*t-r)+32e-5*e*u(r+2*n)+32e-5*e*u(r-2*n)-28e-5*e*e*u(t+2*r)+27e-5*e*u(2*t+r)-17e-5*u(o)-5e-5*u(t-r-2*n)+4e-5*u(2*t+2*n)-4e-5*u(t+r+2*n)+4e-5*u(t-2*r)+3e-5*u(t+r-2*n)+3e-5*u(3*r)+2e-5*u(2*t-2*n)+2e-5*u(t-r+2*n)-2e-5*u(3*t+r),f=.00306-38e-5*e*a(r)+26e-5*a(t)-2e-5*a(t-r)+2e-5*a(t+r)+2e-5*a(2*n);return 1===c?i+=f:3===c&&(i-=f),i},z=[357.52772,35999.05034,-1603e-7,-1/3e5],E=[280.46646,36000.76983,3032e-7],P=[84381.448/3600,-4680.93/3600,-1.55/3600,1999.25/3600,-51.38/3600,-249.67/3600,-39.05/3600,7.12/3600,27.87/3600,5.79/3600,2.45/3600],F=[93.27191,483202.017538,-.0036825,1/327270],w=[125.04452,-1934.136261,.0020708,1/45e4],Y=[134.96298,477198.867398,.0086972,1/56250],C=[297.85036,445267.11148,-.0019142,1/189474],I=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[-2,0,0,2,2,-13187,-1.6,5736,-3.1],[0,0,0,2,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[0,0,1,0,0,712,.1,-7,0],[-2,1,0,2,2,-517,1.2,224,-.6],[0,0,0,2,1,-386,-.4,200,0],[0,0,1,2,2,-301,0,129,-.1],[-2,-1,0,2,2,217,-.5,-95,.3],[-2,0,1,0,0,-158,0,0,0],[-2,0,0,2,1,129,.1,-70,0],[0,0,-1,2,2,123,0,-53,0],[2,0,0,0,0,63,0,0,0],[0,0,1,0,1,63,.1,-33,0],[2,0,-1,2,2,-59,0,26,0],[0,0,-1,0,1,-58,-.1,32,0],[0,0,1,2,1,-51,0,27,0],[-2,0,2,0,0,48,0,0,0],[0,0,-2,2,1,46,0,-24,0],[2,0,0,2,2,-38,0,16,0],[0,0,2,2,2,-31,0,13,0],[0,0,2,0,0,29,0,0,0],[-2,0,1,2,2,29,0,-12,0],[0,0,0,2,0,26,0,0,0],[-2,0,0,2,0,-22,0,0,0],[0,0,-1,2,1,21,0,-10,0],[0,2,0,0,0,17,-.1,0,0],[2,0,-1,0,1,16,0,-8,0],[-2,2,0,2,2,-16,.1,7,0],[0,1,0,0,1,-15,0,9,0],[-2,0,1,0,1,-13,0,7,0],[0,-1,0,0,1,-12,0,6,0],[0,0,2,-2,0,11,0,0,0],[2,0,-1,2,1,-10,0,5,0],[2,0,1,2,2,-8,0,3,0],[0,1,0,2,2,7,0,-3,0],[-2,1,1,0,0,-7,0,0,0],[0,-1,0,2,2,-7,0,3,0],[2,0,0,2,1,-7,0,3,0],[2,0,1,0,0,6,0,0,0],[-2,0,2,2,2,6,0,-3,0],[-2,0,1,2,1,6,0,-3,0],[2,0,-2,0,1,-6,0,3,0],[2,0,0,0,1,-6,0,3,0],[0,-1,1,0,0,5,0,0,0],[-2,-1,0,2,1,-5,0,3,0],[-2,0,0,0,1,-5,0,3,0],[0,0,2,2,1,-5,0,3,0],[-2,0,2,0,1,4,0,0,0],[-2,1,0,2,1,4,0,0,0],[0,0,1,-2,0,4,0,0,0],[-1,0,1,0,0,-4,0,0,0],[-2,1,0,0,0,-4,0,0,0],[1,0,0,0,0,-4,0,0,0],[0,0,1,2,0,3,0,0,0],[0,0,-2,2,2,-3,0,0,0],[-1,-1,1,0,0,-3,0,0,0],[0,1,1,0,0,-3,0,0,0],[0,-1,1,2,2,-3,0,0,0],[2,-1,-1,2,2,-3,0,0,0],[0,0,3,2,2,3,0,0,0],[2,-1,0,2,2,-3,0,0,0]],R=r,A=function(r,t,n,o){var u,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50/60,c=r.tz(),i=R.tz([r.year(),r.month(),r.date(),0,0,0],"UTC"),f=d(i),s=v(i),h=Z(s),M=s-f/315576e4,l=q(M),m=B(M),y=U(t,m,a),b=(l-n-h)/360;if(b=g(b,r.utcOffset()),"RISE"===o)u=b-y/360;else{if("SET"!==o)return!1;u=b+y/360}for(var T=0,N=1;Math.abs(N)>1e-4&&T<3;)u+=N=x(s,h,f,t,n,u,a),T++;return u>0?i.add(Math.floor(3600*u*24+.5),"seconds"):i.subtract(Math.floor(3600*Math.abs(u)*24+.5),"seconds"),e.roundToNearestMinute&&(i.add(30,"seconds"),i.second(0)),i.tz(c),i},H=function(r,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e.returnTimeForPNMS&&(t.isDST()&&(n+=1),r.tz(t.tz()).year(t.year()).month(t.month()).date(t.date()).hour(n).minute(o).second(0)),r},U=function(r,t,n){var c=(u(-n)-u(r)*u(t))/(a(r)*a(t));if(c<-1){if(e.returnTimeForPNMS)throw R.tz("**2000-01-01 12:00:00","YYYY-MM-DD HH:mm:ss","Europe/London");var i="MS";throw 6===n?i="NCD":12===n?i="NND":18===n&&(i="NAD"),i}if(c>1){if(e.returnTimeForPNMS)throw R.tz("--2000-01-01 12:00:00","YYYY-MM-DD HH:mm:ss","Europe/London");var f="PN";throw 6===n?f="NCD":12===n?f="NND":18===n&&(f="NAD"),f}return o(Math.acos(c))},g=function(e,r){var t=e+r/1440;return t<0?e+1:t>1?e-1:e},j=function(e,r,t,n,o){var u=r+360.985647*o,a=L(e,o+t/864e3);return-O(u,n,a)/360},x=function(e,r,t,n,o,c,i){var f=r+360.985647*c,s=c+t/864e3,h=L(e,s),v=_(e,s),d=O(f,o,h);return(K(n,v,d)+i)/(360*a(v)*a(n)*u(d))},O=function(e,r,t){var n=c(e+r-t);return n>180&&(n-=360),n},K=function(e,r,t){return o(Math.asin(u(e)*u(r)+a(e)*a(r)*a(t)))},L=function(e,r){var t=q(e-1/36525),n=q(e),o=q(e+1/36525),u=f(t,n,o,r,!0);return c(u)},_=function(e,r){var t=B(e-1/36525),n=B(e),o=B(e+1/36525),u=f(t,n,o,r);return c(u)},q=function(e){var r=te(e),t=J(e)+.00256*a(r),n=V(e),i=o(Math.atan2(a(t)*u(n),a(n)));return c(i)},B=function(e){var r=te(e),t=J(e)+.00256*a(r),n=V(e);return o(Math.asin(u(t)*u(n)))},Z=function(e){var r=G(e),t=J(e),n=r+$(e)*a(t);return c(n)},G=function(e){return 280.46061837+360.98564736629*(36525*e)+387933e-9*e*e-e*e*e/3871e4},J=function(e){return Q(e)+ee(e)},Q=function(e){return i(e/100,P)},V=function(e){var r=W(e),t=te(e);return r-.00569-.00478*u(t)},W=function(e){return ae(e)+X(e)},X=function(e){var r=ue(e);return(1.914602-.004817*e-14e-6*e*e)*u(r)+(.019993-101e-6*e)*u(2*r)+29e-5*u(3*r)},$=function(e){for(var r,t=oe(e),n=ue(e),o=ne(e),a=re(e),c=te(e),i=0,f=0;f<63;f++)r=I[f][0]*t+I[f][1]*n+I[f][2]*o+I[f][3]*a+I[f][4]*c,i+=(I[f][5]+I[f][6]*e)*u(r);return i/=36e6},ee=function(e){for(var r,t=oe(e),n=ue(e),o=ne(e),u=re(e),c=te(e),i=0,f=0;f<63;f++)r=I[f][0]*t+I[f][1]*n+I[f][2]*o+I[f][3]*u+I[f][4]*c,i+=(I[f][7]+I[f][8]*e)*a(r);return i/=36e6},re=function(e){var r=i(e,F);return c(r)},te=function(e){var r=i(e,w);return c(r)},ne=function(e){var r=i(e,Y);return c(r)},oe=function(e){var r=i(e,C);return c(r)},ue=function(e){var r=i(e,z);return c(r)},ae=function(e){var r=i(e,E);return c(r)},ce=r;e.roundToNearestMinute=!1,e.returnTimeForPNMS=!1;var ie={"**":"‡","--":"†"};e.astronomicalDawn=function(e,r,t){var n;try{n=A(e,r,t,"RISE",18)}catch(r){return H(r,e,4,30)}return n},e.astronomicalDusk=function(e,r,t){var n;try{n=A(e,r,t,"SET",18)}catch(r){return H(r,e,19,30)}return n},e.civilDawn=function(e,r,t){var n;try{n=A(e,r,t,"RISE",6)}catch(r){return H(r,e,5,30)}return n},e.civilDusk=function(e,r,t){var n;try{n=A(e,r,t,"SET",6)}catch(r){return H(r,e,18,30)}return n},e.formatCI=function(e,r){var t=e.creationData().input.slice(0,2),n=e.format(r);return ie[t]&&(n+=ie[t]),n},e.nauticalDawn=function(e,r,t){var n;try{n=A(e,r,t,"RISE",12)}catch(r){return H(r,e,5)}return n},e.nauticalDusk=function(e,r,t){var n;try{n=A(e,r,t,"SET",12)}catch(r){return H(r,e,19)}return n},e.options=function(r){"boolean"==typeof r.roundToNearestMinute&&(e.roundToNearestMinute=r.roundToNearestMinute),"boolean"==typeof r.returnTimeForPNMS&&(e.returnTimeForPNMS=r.returnTimeForPNMS),"object"===t(r.dateFormatKeys)&&(ie=r.dateFormatKeys)},e.solarNoon=function(r,t){return function(r,t){var n=r.tz(),o=R.tz([r.year(),r.month(),r.date(),0,0,0],"UTC"),u=d(o),a=v(o),c=Z(a),i=(q(a-u/315576e4)-t-c)/360;return i=g(i,r.utcOffset()),i+=j(a,c,u,t,i),o.add(Math.floor(3600*i*24+.5),"seconds"),e.roundToNearestMinute&&(o.add(30,"seconds"),o.second(0)),o.tz(n),o}(r,t)},e.sunrise=function(e,r,t){var n;try{n=A(e,r,t,"RISE")}catch(r){return H(r,e,6)}return n},e.sunset=function(e,r,t){var n;try{n=A(e,r,t,"SET")}catch(r){return H(r,e,18)}return n},e.yearMoonPhases=function(r,t,n){for(var o,u,a,c,i=ce([r]),f=ce([r+1]),s=Math.floor(12.3685*((o=i).year()+(o.month()+1)/12+o.date()/365.25-2e3))-1,v=[],l=0;l<15;l++)u=M(s,t),a=h(u),(c=d(a))>0?a.subtract(Math.abs(c),"seconds"):a.add(Math.abs(c),"seconds"),e.roundToNearestMinute&&(a.add(30,"seconds"),a.second(0)),void 0===n&&(n="UTC"),a.tz(n),a.isAfter(i)&&a.isBefore(f)&&v.push(a),s++;return v},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=meeussunmoon.min.js.map
